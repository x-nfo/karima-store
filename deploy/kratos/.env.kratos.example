# Ory Kratos Production Environment Variables
# Copy this file to .env.kratos and fill in the actual values
# DO NOT commit .env.kratos to version control!

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL DSN connection string for Kratos
# Format: postgresql://user:password@host:port/database?sslmode=require
# Example: postgresql://kratos:secure_password@localhost:5432/kratos?sslmode=require
KRATOS_DSN=postgresql://kratos:CHANGE_ME_PASSWORD@localhost:5432/kratos?sslmode=require

# ============================================================================
# URL CONFIGURATION
# ============================================================================
# Public base URL for Kratos API (accessible by users)
KRATOS_PUBLIC_BASE_URL=https://auth.ks-backend.cloud/

# Admin base URL for Kratos API (internal/admin use only)
KRATOS_ADMIN_BASE_URL=http://127.0.0.1:4434/

# UI base URL for your frontend application
KRATOS_UI_URL=https://karima.com

# Default browser return URL after authentication flows
KRATOS_DEFAULT_RETURN_URL=https://karima.com/

# ============================================================================
# SECURITY SECRETS (CRITICAL - CHANGE THESE!)
# ============================================================================
# Secret for cookie signing (minimum 32 characters, use strong random string)
# Generate with: openssl rand -base64 32
KRATOS_SECRET_COOKIE=CHANGE_ME_COOKIE_SECRET_MIN_32_CHARS_LONG_AND_RANDOM

# Secret for cipher encryption (must be exactly 32 characters)
# Generate with: openssl rand -base64 32 | cut -c1-32
KRATOS_SECRET_CIPHER=CHANGE_ME_32_CHAR_CIPHER_SECRET_NOW

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
# Log level: trace, debug, info, warning, error, fatal, panic
# Production recommendation: info or warning
KRATOS_LOG_LEVEL=info

# Log format: json or text
# Production recommendation: json (easier for log aggregation)
KRATOS_LOG_FORMAT=json

# Whether to leak sensitive values in logs
# Production recommendation: false (security best practice)
KRATOS_LEAK_SENSITIVE_VALUES=false

# ============================================================================
# EMAIL CONFIGURATION (SMTP)
# ============================================================================
# SMTP connection URI for sending emails (verification, recovery, etc.)
# Format: smtps://user:password@host:port/?skip_ssl_verify=false
# Example with Gmail: smtps://your-email@gmail.com:app-password@smtp.gmail.com:465/?skip_ssl_verify=false
# Example with SendGrid: smtps://apikey:SG.API_KEY@smtp.sendgrid.net:465/?skip_ssl_verify=false
KRATOS_SMTP_CONNECTION_URI=smtps://username:password@smtp.example.com:465/?skip_ssl_verify=false

# ============================================================================
# OPTIONAL: ADDITIONAL CONFIGURATION
# ============================================================================
# If you need to override any other settings, you can add them here
# and reference them in kratos.yml using ${VARIABLE_NAME} syntax
